# è±ªè¯æ°´ç™‚ç®¡ç†ç³»çµ±

ä¸€å€‹åŠŸèƒ½å®Œæ•´çš„æ°´ç™‚ä¸­å¿ƒç®¡ç†ç³»çµ±ï¼ŒåŒ…å«å®¢æˆ¶ç®¡ç†ã€é ç´„ç®¡ç†ã€ä¾†åº—è¨˜éŒ„ã€å ±è¡¨åˆ†æç­‰åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹è‰²

### æ ¸å¿ƒåŠŸèƒ½

âœ… **ä½¿ç”¨è€…èªè­‰**
- Firebase Email/Password èªè­‰
- å®‰å…¨çš„ç™»å…¥/ç™»å‡ºæ©Ÿåˆ¶
- æŒä¹…åŒ–ç™»å…¥ç‹€æ…‹

âœ… **å³æ™‚å„€è¡¨æ¿**
- ä»Šæ—¥é ç´„ã€æœ¬æœˆé ç´„çµ±è¨ˆ
- ç¸½å®¢æˆ¶æ•¸ã€æœ¬æœˆç‡Ÿæ”¶
- é›»å­å ±è¨‚é–±äººæ•¸ã€æœªè®€è¨Šæ¯æ•¸
- æœƒå“¡ç­‰ç´šåˆ†å¸ƒçµ±è¨ˆ
- æœ€è¿‘é ç´„è¨˜éŒ„
- æ•¸æ“šè¦–è¦ºåŒ–å±•ç¤º

âœ… **å®¢æˆ¶ç®¡ç†**
- å®Œæ•´çš„å®¢æˆ¶è³‡æ–™ CRUD
- æœƒå“¡ç­‰ç´šç®¡ç†ï¼ˆä¸€èˆ¬/2è¬/3è¬/5è¬/VIPï¼‰
- å„²å€¼é¤˜é¡è¿½è¹¤
- VIP è³‡æ ¼è‡ªå‹•æª¢æ¸¬ï¼ˆå¹´æ¶ˆè²»12è¬ï¼‰
- VIP å¯©æ ¸æ©Ÿåˆ¶
- æ¶ˆè²»ç¸½é¡å’Œä¾†åº—æ¬¡æ•¸çµ±è¨ˆ
- å¹´åº¦çµ±è¨ˆæ•¸æ“š
- å®¢æˆ¶æœå°‹å’Œç¯©é¸

âœ… **é ç´„ç®¡ç†**
- å®Œæ•´çš„é ç´„ CRUD æ“ä½œ
- é ç´„ç‹€æ…‹ç®¡ç†ï¼ˆå¾…ç¢ºèªã€å·²ç¢ºèªã€å·²å®Œæˆã€å·²å–æ¶ˆï¼‰
- å®¢æˆ¶è³‡æ–™è‡ªå‹•é—œè¯
- å¿«é€Ÿå®Œæˆé ç´„
- æ—¥æœŸæ™‚é–“é¸æ“‡
- æœå‹™é …ç›®é¸æ“‡

âœ… **ä¾†åº—ç®¡ç†** ğŸ†•
- è¨˜éŒ„å®¢æˆ¶ä¾†åº—æ¶ˆè²»
- è‡ªå‹•è¨ˆç®—æœƒå“¡æŠ˜æ‰£
- å¤šç¨®ä»˜æ¬¾æ–¹å¼ï¼ˆç¾é‡‘ã€åˆ·å¡ã€å„²å€¼ï¼‰
- è‡ªå‹•æ›´æ–°å®¢æˆ¶çµ±è¨ˆæ•¸æ“š
- è‡ªå‹•æª¢æŸ¥VIPè³‡æ ¼
- ä¾†åº—è¨˜éŒ„æŸ¥è©¢

âœ… **è¨Šæ¯ä¸­å¿ƒ** ğŸ†•
- å®¢æˆ¶è¯çµ¡è¨Šæ¯ç®¡ç†
- è¨Šæ¯ç‹€æ…‹è¿½è¹¤ï¼ˆæœªè®€ã€å·²è®€ã€å·²å›è¦†ï¼‰
- é›»å­å ±è¨‚é–±è€…ç®¡ç†
- è¨‚é–±è€…èªè¨€åå¥½è¨­å®š
- è¨Šæ¯æœå°‹å’Œç¯©é¸

âœ… **å ±è¡¨åˆ†æ** ğŸ†•
- ç‡Ÿæ”¶å ±è¡¨ï¼ˆæ—¥/æœˆ/å¹´è¶¨å‹¢ï¼‰
- å®¢æˆ¶åˆ†æï¼ˆæœƒå“¡åˆ†å¸ƒã€æ–°å¢è¶¨å‹¢ï¼‰
- æœå‹™çµ±è¨ˆï¼ˆç†±é–€æœå‹™ã€ç‡Ÿæ”¶è²¢ç»ï¼‰
- ä»˜æ¬¾æ–¹å¼åˆ†æ
- å¤šç¶­åº¦æ•¸æ“šè¦–è¦ºåŒ–ï¼ˆæŠ˜ç·šåœ–ã€åœ“é¤…åœ–ã€æŸ±ç‹€åœ–ï¼‰

âœ… **ç™‚ç¨‹ç®¡ç†**
- ç™‚ç¨‹ CRUD æ“ä½œ
- å¤šèªè¨€æ”¯æ´ï¼ˆä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡ï¼‰
- æœå‹™åˆ†é¡ï¼ˆè‡‰éƒ¨ã€èº«é«”ã€æŒ‰æ‘©ã€ç‰¹æ®Šï¼‰
- åƒ¹æ ¼å’Œæ™‚é•·ç®¡ç†
- åœ–ç‰‡URLç®¡ç†
- å¡ç‰‡å¼è¦–åœ–å±•ç¤º

âœ… **å…§å®¹ç®¡ç†**
- å¤šèªè¨€å…§å®¹ç·¨è¼¯
- ç¶²ç«™å„é é¢å…§å®¹ç®¡ç†
- å¯Œæ–‡æœ¬ç·¨è¼¯å™¨
- å…§å®¹ç™¼å¸ƒæ§åˆ¶

âœ… **ç³»çµ±è¨­å®š**
- ç‡Ÿæ¥­æ™‚é–“è¨­å®š
- è¯çµ¡è³‡è¨Šç®¡ç†
- é ç´„åƒæ•¸è¨­å®š
- åƒ¹æ ¼æŠ˜æ‰£è¨­å®š

### æœƒå“¡åˆ¶åº¦ï¼ˆç°¡åŒ–ç‰ˆï¼‰

åªæœ‰å…©å€‹ç­‰ç´šï¼š

- **ä¸€èˆ¬æœƒå“¡** - ç„¡æŠ˜æ‰£ï¼ŒåŸåƒ¹æ¶ˆè²»
- **VIPæœƒå“¡** - æ‰€æœ‰ç™‚ç¨‹äº«5æŠ˜å„ªæƒ ï¼ˆå¹´åº¦ä¾†åº—40æ¬¡è‡ªå‹•ç¬¦åˆè³‡æ ¼ï¼Œéœ€ç®¡ç†å“¡å¯©æ ¸ï¼‰

### å„²å€¼ç³»çµ±ï¼ˆç¨ç«‹åŠŸèƒ½ï¼‰

- å„²å€¼ä¸å†ç¶å®šæœƒå“¡ç­‰ç´š
- æ‰€æœ‰æœƒå“¡éƒ½å¯ä»¥å„²å€¼
- æ¯ç­†å„²å€¼ç”¢ç”Ÿæ”¶æ“šç·¨è™Ÿï¼Œç”¨æ–¼èˆ‡å¯¦é«”å„²å€¼å¡æ¯”å°
- æ”¯æ´å®¢æˆ¶ç°½åé©—è­‰åŠŸèƒ½

## æŠ€è¡“æ¶æ§‹

### å‰ç«¯æŠ€è¡“
- React 19.1.0
- Vite 6.3.5
- Tailwind CSS 4.1.7
- Radix UI (shadcn/ui)
- Recharts (æ•¸æ“šè¦–è¦ºåŒ–)
- React Router DOM 7.6.1
- React Hook Form + Zod
- date-fns
- Lucide React

### å¾Œç«¯æœå‹™
- Firebase Authentication
- Cloud Firestore
- Firebase Hosting

### æ€§èƒ½å„ªåŒ–
- React.lazy ä»£ç¢¼åˆ†å‰²
- Suspense æ‡¶åŠ è¼‰
- Firestore æŸ¥è©¢ç´¢å¼•å„ªåŒ–
- çµ„ä»¶ç´šåˆ¥å„ªåŒ–

## å¿«é€Ÿé–‹å§‹

### å‰ç½®éœ€æ±‚
- Node.js 18+
- pnpm 8+
- Firebase CLI

### å®‰è£æ­¥é©Ÿ

1. **å…‹éš†å°ˆæ¡ˆ**
```bash
git clone https://github.com/chenlan550-commits/spa-admin-firebase.git
cd spa-admin-firebase
```

2. **å®‰è£ä¾è³´**
```bash
pnpm install
```

3. **Firebase è¨­å®š**

Firebase é…ç½®å·²å…§å»ºæ–¼å°ˆæ¡ˆä¸­ï¼ˆ`src/lib/firebase.js`ï¼‰ï¼Œç„¡éœ€é¡å¤–è¨­å®šç’°å¢ƒè®Šæ•¸ã€‚

4. **å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨**
```bash
pnpm dev
```

é–‹ç™¼ä¼ºæœå™¨æœƒåœ¨ `http://localhost:5173` å•Ÿå‹•

### éƒ¨ç½²åˆ° Firebase

1. **æ§‹å»ºå°ˆæ¡ˆ**
```bash
pnpm build
```

2. **ç™»å…¥ Firebase**
```bash
firebase login
```

3. **éƒ¨ç½²**
```bash
# éƒ¨ç½²æ‰€æœ‰å…§å®¹
firebase deploy

# åƒ…éƒ¨ç½²éœæ…‹æª”æ¡ˆ
firebase deploy --only hosting

# éƒ¨ç½²è³‡æ–™åº«è¦å‰‡å’Œç´¢å¼•
firebase deploy --only firestore
```

## æ¸¬è©¦æ•¸æ“š

ä½¿ç”¨æ¸¬è©¦æ•¸æ“šè…³æœ¬å¿«é€Ÿç”Ÿæˆç¯„ä¾‹è³‡æ–™ï¼š

```bash
node scripts/addTestReportData.js
```

é€™æœƒå‰µå»ºï¼š
- 8å€‹æ¸¬è©¦å®¢æˆ¶ï¼ˆä¸åŒæœƒå“¡ç­‰ç´šï¼‰
- 24-64ç­†ä¾†åº—è¨˜éŒ„
- 8-24ç­†é ç´„è¨˜éŒ„
- 3ç­†è¯çµ¡è¨Šæ¯
- 5å€‹é›»å­å ±è¨‚é–±è€…

## å°ˆæ¡ˆçµæ§‹

```
spa-admin-firebase/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/          # React çµ„ä»¶
â”‚   â”‚   â”œâ”€â”€ Dashboard.jsx           # å„€è¡¨æ¿
â”‚   â”‚   â”œâ”€â”€ CustomerManagement.jsx  # å®¢æˆ¶ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ BookingManagement.jsx   # é ç´„ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ VisitManagement.jsx     # ä¾†åº—ç®¡ç† ğŸ†•
â”‚   â”‚   â”œâ”€â”€ MessageCenter.jsx       # è¨Šæ¯ä¸­å¿ƒ ğŸ†•
â”‚   â”‚   â”œâ”€â”€ Reports.jsx             # å ±è¡¨åˆ†æ ğŸ†•
â”‚   â”‚   â”œâ”€â”€ ServiceManagement.jsx   # ç™‚ç¨‹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ ContentManagement.jsx   # å…§å®¹ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ SettingsManagement.jsx  # ç³»çµ±è¨­å®š
â”‚   â”‚   â”œâ”€â”€ Login.jsx               # ç™»å…¥é é¢
â”‚   â”‚   â””â”€â”€ ui/                     # UI çµ„ä»¶åº«
â”‚   â”œâ”€â”€ services/            # Firebase æœå‹™å±¤
â”‚   â”‚   â”œâ”€â”€ customerService.js
â”‚   â”‚   â”œâ”€â”€ bookingService.js
â”‚   â”‚   â”œâ”€â”€ visitService.js         ğŸ†•
â”‚   â”‚   â”œâ”€â”€ reportService.js        ğŸ†•
â”‚   â”‚   â”œâ”€â”€ contactService.js       ğŸ†•
â”‚   â”‚   â”œâ”€â”€ newsletterService.js    ğŸ†•
â”‚   â”‚   â”œâ”€â”€ serviceService.js
â”‚   â”‚   â”œâ”€â”€ contentService.js
â”‚   â”‚   â””â”€â”€ settingsService.js
â”‚   â”œâ”€â”€ contexts/            # React Context
â”‚   â”‚   â””â”€â”€ AuthContext.jsx
â”‚   â”œâ”€â”€ hooks/               # è‡ªå®šç¾© Hooks
â”‚   â”‚   â””â”€â”€ use-toast.js
â”‚   â”œâ”€â”€ lib/                 # å·¥å…·å‡½æ•¸
â”‚   â”‚   â”œâ”€â”€ firebase.js      # Firebase é…ç½®
â”‚   â”‚   â””â”€â”€ utils.js
â”‚   â””â”€â”€ App.jsx              # ä¸»æ‡‰ç”¨
â”œâ”€â”€ scripts/                 # å·¥å…·è…³æœ¬
â”‚   â”œâ”€â”€ addTestReportData.js        # æ¸¬è©¦æ•¸æ“šç”Ÿæˆ ğŸ†•
â”‚   â”œâ”€â”€ addTestBooking.js
â”‚   â””â”€â”€ importServices.js
â”œâ”€â”€ public/                  # éœæ…‹è³‡æº
â”œâ”€â”€ firebase.json            # Firebase é…ç½®
â”œâ”€â”€ firestore.rules          # è³‡æ–™åº«å®‰å…¨è¦å‰‡
â”œâ”€â”€ firestore.indexes.json   # è³‡æ–™åº«ç´¢å¼•
â””â”€â”€ package.json
```

## è³‡æ–™åº«æ¶æ§‹

### Firestore Collections

- `customers` - å®¢æˆ¶è³‡æ–™
- `appointments` - é ç´„è¨˜éŒ„
- `visits` - ä¾†åº—è¨˜éŒ„ ğŸ†•
- `services` - æœå‹™é …ç›®
- `content` - ç¶²ç«™å…§å®¹
- `settings` - ç³»çµ±è¨­å®š
- `contact_messages` - è¯çµ¡è¨Šæ¯ ğŸ†•
- `newsletter_subscribers` - é›»å­å ±è¨‚é–± ğŸ†•

### å®‰å…¨è¦å‰‡

**Firestore Rules**
- **å…¬é–‹è®€å–**: æœå‹™ã€å…§å®¹ã€è¨­å®š
- **å…¬é–‹å‰µå»º**: é ç´„ã€è¨Šæ¯ã€è¨‚é–±
- **éœ€è¦èªè­‰**: å®¢æˆ¶ç®¡ç†ã€å®Œæ•´é ç´„ç®¡ç†ã€ä¾†åº—è¨˜éŒ„

è©³ç´°è¦å‰‡è«‹åƒè€ƒ `firestore.rules`

## ä½¿ç”¨èªªæ˜

### é¦–æ¬¡ä½¿ç”¨

1. å•Ÿå‹•æ‡‰ç”¨å¾Œï¼Œä½¿ç”¨ Firebase Console å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ
2. ç™»å…¥å¾Œé€²å…¥å„€è¡¨æ¿
3. å‰å¾€ã€Œç³»çµ±è¨­å®šã€é…ç½®åŸºæœ¬è³‡è¨Š
4. åœ¨ã€Œç™‚ç¨‹ç®¡ç†ã€ä¸­æ–°å¢ç™‚ç¨‹é …ç›®
5. åœ¨ã€Œå®¢æˆ¶ç®¡ç†ã€ä¸­æ–°å¢å®¢æˆ¶
6. åœ¨ã€Œé ç´„ç®¡ç†ã€ä¸­é–‹å§‹ç®¡ç†é ç´„

### æ—¥å¸¸æ“ä½œ

- **æŸ¥çœ‹çµ±è¨ˆ**: å„€è¡¨æ¿é¡¯ç¤ºå³æ™‚çµ±è¨ˆæ•¸æ“š
- **ç®¡ç†é ç´„**: æŸ¥çœ‹ã€ç¢ºèªã€å®Œæˆé ç´„
- **è¨˜éŒ„ä¾†åº—**: åœ¨ã€Œä¾†åº—ç®¡ç†ã€è¨˜éŒ„å®¢æˆ¶æ¶ˆè²»
- **æŸ¥çœ‹å ±è¡¨**: åœ¨ã€Œå ±è¡¨åˆ†æã€æŸ¥çœ‹ç‡Ÿæ”¶å’Œå®¢æˆ¶çµ±è¨ˆ
- **è™•ç†è¨Šæ¯**: åœ¨ã€Œè¨Šæ¯ä¸­å¿ƒã€å›è¦†å®¢æˆ¶è¨Šæ¯
- **VIPå¯©æ ¸**: åœ¨ã€Œå®¢æˆ¶ç®¡ç†ã€å¯©æ ¸ç¬¦åˆè³‡æ ¼çš„VIPç”³è«‹

### VIP è‡ªå‹•å‡ç´šæµç¨‹

1. å®¢æˆ¶å¹´åº¦æ¶ˆè²»é”åˆ°12è¬å…ƒ
2. ç³»çµ±è‡ªå‹•æ¨™è¨˜ `vipEligible = true`
3. ç®¡ç†å“¡åœ¨å®¢æˆ¶ç®¡ç†é é¢å¯©æ ¸
4. å¯©æ ¸é€šéå¾Œï¼Œå®¢æˆ¶å‡ç´šç‚ºVIPï¼ˆ5æŠ˜å„ªæƒ ï¼‰
5. VIPæœ‰æ•ˆæœŸç‚ºä¸€å¹´

## æ•…éšœæ’é™¤

### æ§‹å»ºå¤±æ•—
```bash
# æ¸…é™¤ç·©å­˜é‡æ–°å®‰è£
rm -rf node_modules pnpm-lock.yaml
pnpm install
```

### Firebase éƒ¨ç½²å¤±æ•—
```bash
# ç¢ºèªå·²ç™»å…¥
firebase login

# ç¢ºèªå°ˆæ¡ˆIDæ­£ç¢º
firebase use spa-admin-firebase

# é‡æ–°éƒ¨ç½²
firebase deploy
```

### Firestore æ¬Šé™éŒ¯èª¤
```bash
# é‡æ–°éƒ¨ç½²è¦å‰‡
firebase deploy --only firestore:rules

# é‡æ–°éƒ¨ç½²ç´¢å¼•
firebase deploy --only firestore:indexes
```

## ç›¸é—œé€£çµ

- **Firebase Console**: https://console.firebase.google.com/project/spa-admin-firebase
- **ç”Ÿç”¢ç’°å¢ƒ**: https://spa-admin-firebase.web.app
- **GitHub å€‰åº«**: https://github.com/chenlan550-commits/spa-admin-firebase

## æ–‡æª”

- [åŠŸèƒ½è©³ç´°èªªæ˜](./FEATURES.md) - å®Œæ•´åŠŸèƒ½æ–‡æª”
- [å¿«é€Ÿé–‹å§‹æŒ‡å—](./QUICK_START.md) - éƒ¨ç½²å’Œé…ç½®æŒ‡å—

## æ›´æ–°æ—¥èªŒ

### v1.0.0 (2025-01)
- âœ¨ æ–°å¢ä¾†åº—ç®¡ç†åŠŸèƒ½
- âœ¨ æ–°å¢è¨Šæ¯ä¸­å¿ƒ
- âœ¨ æ–°å¢å ±è¡¨åˆ†æ
- âœ¨ VIP è‡ªå‹•å‡ç´šç³»çµ±
- âœ¨ æœƒå“¡æŠ˜æ‰£è‡ªå‹•è¨ˆç®—
- âš¡ æ€§èƒ½å„ªåŒ–ï¼ˆä»£ç¢¼åˆ†å‰²ã€æ‡¶åŠ è¼‰ï¼‰
- ğŸ“ å®Œå–„æ–‡æª”

## æˆæ¬Š

æœ¬å°ˆæ¡ˆç‚ºç§æœ‰å°ˆæ¡ˆï¼Œåƒ…ä¾›æˆæ¬Šä½¿ç”¨è€…ä½¿ç”¨ã€‚

## è¯çµ¡æ–¹å¼

å¦‚æœ‰å•é¡Œæˆ–å»ºè­°ï¼Œè«‹è¯çµ¡ç³»çµ±ç®¡ç†å“¡ã€‚

---

**ç‰ˆæœ¬**: 1.0.0
**æœ€å¾Œæ›´æ–°**: 2025å¹´1æœˆ
**æŠ€è¡“æ”¯æ´**: Firebase, React, Vite
